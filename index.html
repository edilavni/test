<html>
  <head>
    
    <!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-NPHQTR8');</script>
<!-- End Google Tag Manager -->
  </head>
  <body>
    <!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NPHQTR8"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->
    
    <h5>API call : httpbin.org</h5>
<input type="submit" value="Start" onclick="submit()">

    <br/>
    <h5>Result :</h5>
    <textarea id="myResult" style="width:700px;height:450px;">
</textarea>
    
    <br/>
    <h5>DataLayer :</h5>
    <textarea id="dataLayer" style="width:700px;height:150px;">
</textarea>
    
<script type="text/javascript">
  
  function submit() {
        var obj = document.getElementById("myResult");
        var obj2 = document.getElementById("dataLayer");
        var xhr = new XMLHttpRequest();
        xhr.onreadystatechange = function () {
            if (xhr.readyState === 4) {
                //alert(xhr.response);
                obj.value = xhr.response;
                obj2.value = JSON.stringify(dataLayer);
            }
        }
    
        xhr.open('get', 'https://httpbin.org/get?key='+dataLayer[3].key+'&value='+dataLayer[4].value, true);
        xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded; charset=UTF-8');
        xhr.send();
    }
</script>
    
   
    
  </body>
</html> 


